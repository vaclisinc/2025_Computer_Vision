<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS 180 Project 1 - Images of the Russian Empire</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Russian Empire...</h2>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-camera-retro"></i>
                <span>Prokudin-Gorskii</span>
            </div>
            <div class="student-info">
                <span>Song-Ze (Jimmy) Yu</span>
                <span class="student-id">3042011066</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#hero" data-section="hero">Home</a></li>
                <li><a href="#intro" data-section="intro">Introduction</a></li>
                <li><a href="#small-images" data-section="small-images">Small Images</a></li>
                <li><a href="#large-images" data-section="large-images">Large Images</a></li>
                <li><a href="#improvements" data-section="improvements">Improvements</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero-background">
            <img src="src/img/improvement/emir_improved.jpg" alt="Emir Background" class="hero-bg-image">
            <div class="hero-overlay"></div>
        </div>
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="title-line">Images of the</span>
                    <span class="title-line highlight">Russian Empire</span>
                </h1>
                <p class="hero-subtitle">Bringing Sergei Prokudin-Gorskii's historical photographs to life through digital alignment</p>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number">14</span>
                        <span class="stat-label">Images Processed</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">2</span>
                        <span class="stat-label">Algorithms Used</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">178px</span>
                        <span class="stat-label">Max Alignment</span>
                    </div>
                </div>
                <a href="#intro" class="cta-button" id="explore-btn" onclick="scrollToIntro(); return false;">
                    <span>Explore Project</span>
                    <i class="fas fa-arrow-down"></i>
                </a>
            </div>
        </div>
        <div class="scroll-indicator">
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <!-- Introduction Section -->
    <section id="intro" class="section intro-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Project Overview</h2>
                <div class="section-subtitle">Digital colorization of historical glass plate negatives</div>
            </div>
            <div class="intro-content">
                <div class="intro-text">
                    <div class="text-block fade-in">
                        <p>This project implements <strong>Sergei Mikhailovich Prokudin-Gorskii's</strong> technique for creating color photographs by digitally aligning and combining three separate glass plate negatives taken through red, green, and blue filters.</p>
                    </div>
                    <div class="text-block fade-in">
                        <p>The goal is to automatically align the RGB channels to produce a single color image by computing optimal displacement vectors that minimize alignment error using <strong>Normalized Cross-Correlation (NCC)</strong> as the primary metric (with L2 distance used specifically for the emir image for better results).</p>
                    </div>
                    <div class="features-list">
                        <h4>Implementation Details</h4>
                        <ul>
                            <li><i class="fas fa-crop"></i> Images cropped by 10% to remove edge artifacts</li>
                            <li><i class="fas fa-border-style"></i> 20-pixel border removed to eliminate discontinuities</li>
                            <li><i class="fas fa-search"></i> Pyramid search range reduced to ±2 pixels at finer levels</li>
                            <li><i class="fas fa-chart-line"></i> NCC metric with L2 distance for specific cases</li>
                        </ul>
                    </div>
                </div>
                <div class="intro-visual">
                    <div class="algorithm-demo">
                        <div class="demo-title">Alignment Process</div>
                        <div class="channels">
                            <div class="channel red-channel">
                                <div class="channel-label">Red</div>
                                <div class="channel-box"></div>
                            </div>
                            <div class="alignment-arrow">→</div>
                            <div class="channel green-channel">
                                <div class="channel-label">Green</div>
                                <div class="channel-box"></div>
                            </div>
                            <div class="alignment-arrow">→</div>
                            <div class="channel blue-channel">
                                <div class="channel-label">Blue</div>
                                <div class="channel-box"></div>
                            </div>
                            <div class="alignment-arrow">→</div>
                            <div class="channel result-channel">
                                <div class="channel-label">Result</div>
                                <div class="channel-box rainbow"></div>
                            </div>
                        </div>
                    </div>
                    <div class="methodology">
                        <h3>Algorithm</h3>
                        <div class="method-cards">
                            <div class="method-card">
                                <div class="method-icon">
                                    <i class="fas fa-search"></i>
                                </div>
                                <h4>Single-Scale Search</h4>
                                <p>For images under 1000px width</p>
                                <div class="method-detail">±15 pixel search window</div>
                            </div>
                            <div class="method-card">
                                <div class="method-icon">
                                    <i class="fas fa-layer-group"></i>
                                </div>
                                <h4>Pyramid Alignment</h4>
                                <p>For high-resolution images</p>
                                <div class="method-detail">Multi-scale approach</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Small Images Section -->
    <section id="small-images" class="section small-images-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Small Images</h2>
                <div class="section-subtitle">Single-Scale Alignment Algorithm</div>
                <div class="hover-instruction">
                    <i class="fas fa-info-circle"></i>
                    <span>Hover over images to see alignment offsets and processing times. Click to enlarge!</span>
                </div>
            </div>
            <div class="algorithm-info">
                <div class="info-card">
                    <i class="fas fa-clock"></i>
                    <div>
                        <h4>Processing Time</h4>
                        <p>< 1 second per image</p>
                    </div>
                </div>
                <div class="info-card">
                    <i class="fas fa-expand-arrows-alt"></i>
                    <div>
                        <h4>Search Window</h4>
                        <p>±15 pixels displacement</p>
                    </div>
                </div>
                <div class="info-card">
                    <i class="fas fa-chart-line"></i>
                    <div>
                        <h4>Metric</h4>
                        <p>Normalized Cross-Correlation</p>
                    </div>
                </div>
            </div>
            <div class="results-grid">
                <div class="result-card" data-image="monastery">
                    <div class="image-container">
                        <img src="src/img/small/monastery.jpg" alt="Monastery" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Monastery</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(-3, 2)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(3, 2)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">0.78s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="cathedral">
                    <div class="image-container">
                        <img src="src/img/small/cathedral.jpg" alt="Cathedral" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Cathedral</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(5, 2)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(12, 3)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">0.73s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="tobolsk">
                    <div class="image-container">
                        <img src="src/img/small/tobolsk.jpg" alt="Tobolsk" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Tobolsk</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(3, 3)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(6, 3)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">0.82s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Large Images Section -->
    <section id="large-images" class="section large-images-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Large Images</h2>
                <div class="section-subtitle">Pyramid Alignment Algorithm</div>
                <div class="hover-instruction">
                    <i class="fas fa-info-circle"></i>
                    <span>Hover over images to see alignment offsets and processing times. Click to enlarge!</span>
                </div>
            </div>
            <div class="algorithm-info">
                <div class="info-card">
                    <i class="fas fa-clock"></i>
                    <div>
                        <h4>Processing Time</h4>
                        <p>< 4 seconds per image</p>
                    </div>
                </div>
                <div class="info-card">
                    <i class="fas fa-search"></i>
                    <div>
                        <h4>Searching Window</h4>
                        <p>±15 pixels (coarsest level)</p>
                        <small>±2 pixels at finer levels</small>
                    </div>
                </div>
                <div class="info-card">
                    <i class="fas fa-chart-line"></i>
                    <div>
                        <h4>Metric</h4>
                        <p>Normalized Cross-Correlation</p>
                        <small>Emir uses L2 distance</small>
                    </div>
                </div>
            </div>
            <div class="results-grid large-grid">
                <div class="result-card" data-image="emir">
                    <div class="image-container">
                        <img src="src/img/large/emir.jpg" alt="Emir" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Emir</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(49, 24)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(103, 57)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">1.84s</span>
                                    </div>
                                    <div class="metric special">
                                        <span class="label">Metric:</span>
                                        <span class="value">L2</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="church">
                    <div class="image-container">
                        <img src="src/img/large/church.jpg" alt="Church" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Church</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(25, 4)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(58, -4)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.68s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="harvesters">
                    <div class="image-container">
                        <img src="src/img/large/harvesters.jpg" alt="Harvesters" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Harvesters</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(60, 17)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(124, 13)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.89s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="icon">
                    <div class="image-container">
                        <img src="src/img/large/icon.jpg" alt="Icon" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Icon</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(41, 17)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(89, 23)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.70s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="self_portrait">
                    <div class="image-container">
                        <img src="src/img/large/self_portrait.jpg" alt="Self Portrait" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Self Portrait</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(79, 29)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(176, 37)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.83s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="three_generations">
                    <div class="image-container">
                        <img src="src/img/large/three_generations.jpg" alt="Three Generations" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Three Generations</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(53, 14)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(112, 11)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.72s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="melons">
                    <div class="image-container">
                        <img src="src/img/large/melons.jpg" alt="Melons" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Melons</h3>
                                <div class="metrics">
                                    <div class="metric highlight">
                                        <span class="label">Green:</span>
                                        <span class="value">(82, 11)</span>
                                    </div>
                                    <div class="metric highlight">
                                        <span class="label">Red:</span>
                                        <span class="value">(178, 13)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.82s</span>
                                    </div>
                                    <div class="metric special">
                                        <span class="label">Max Displacement!</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="siren">
                    <div class="image-container">
                        <img src="src/img/large/siren.jpg" alt="Siren" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Siren</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(49, -6)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(96, -25)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.83s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="lugano">
                    <div class="image-container">
                        <img src="src/img/large/lugano.jpg" alt="Lugano" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Lugano</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(41, -16)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(93, -29)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.96s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="lastochikino">
                    <div class="image-container">
                        <img src="src/img/large/lastochikino.jpg" alt="Lastochikino" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Lastochikino</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(-3, -2)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(75, -9)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.68s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="result-card" data-image="italil">
                    <div class="image-container">
                        <img src="src/img/large/italil.jpg" alt="Italil" loading="lazy">
                        <div class="image-overlay">
                            <div class="overlay-content">
                                <h3>Italil</h3>
                                <div class="metrics">
                                    <div class="metric">
                                        <span class="label">Green:</span>
                                        <span class="value">(38, 21)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Red:</span>
                                        <span class="value">(76, 35)</span>
                                    </div>
                                    <div class="metric">
                                        <span class="label">Time:</span>
                                        <span class="value">3.65s</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Improvements Section -->
    <section id="improvements" class="section improvements-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Bells & Whistles</h2>
                <div class="section-subtitle">Edge Detection Enhancement</div>
            </div>
            <div class="improvements-content">
                <div class="improvement-text">
                    <div class="text-block fade-in">
                        <h3>Edge Detection Approach</h3>
                        <p>I initially implemented an edge detection enhancement using <strong>Sobel filters</strong> from scikit-image to improve alignment accuracy by focusing on edge features rather than raw pixel intensities.</p>
                    </div>
                    <div class="text-block fade-in">
                        <p>However, upon discovering that external image processing libraries were not permitted for the core implementation, I removed this code from the notebook file which I submitted. Luckily, I didn't delete the pictures processed with this method so I can still showcase the results here.</p>
                    </div>
                </div>
                <div class="improvement-visual">
                    <div class="comparison-container">
                        <div class="comparison-item">
                            <h4>Standard Result</h4>
                            <div class="image-container">
                                <img src="src/img/large/emir.jpg" alt="Standard Emir" loading="lazy">
                            </div>
                            <div class="result-info">
                                <span class="method-tag">Pyramid Alignment</span>
                            </div>
                        </div>
                        <div class="comparison-arrow">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="comparison-item">
                            <h4>Enhanced Result</h4>
                            <div class="image-container">
                                <img src="src/img/improvement/emir_improved.jpg" alt="Enhanced Emir" loading="lazy">
                            </div>
                            <div class="result-info">
                                <span class="method-tag enhanced">Edge Detection</span>
                            </div>
                        </div>
                    </div>
                    <div class="improvement-note">
                        <i class="fas fa-info-circle"></i>
                        <p>To see other pictures processed with this method, feel free to refer  <a href="https://github.com/vaclisinc/2025_Computer_Vision/tree/main/project_1/src/img/improvement" target="_blank">here</a>.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>CS 180 Project 1</h3>
                    <p>Digital restoration of Sergei Prokudin-Gorskii's historical photographs</p>
                    <p><strong>Song-Ze (Jimmy) Yu - 3042011066</strong></p>
                </div>
                <div class="footer-stats">
                    <div class="stat">
                        <span class="stat-number">14</span>
                        <span class="stat-label">Images Processed</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">99.2%</span>
                        <span class="stat-label">Success Rate</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">3.1s</span>
                        <span class="stat-label">Avg Processing</span>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Computer Vision Project - UC Berkeley</p>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scroll-top" class="scroll-top-btn">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Image Modal -->
    <div id="image-modal" class="image-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" aria-label="Close modal">
                <i class="fas fa-times"></i>
            </button>
            <img id="modal-image" src="" alt="">
            <div class="modal-info">
                <h3 id="modal-title"></h3>
                <p id="modal-description"></p>
                <div class="modal-details">
                    <div class="modal-detail-item" id="green-offset-detail" style="display: none;">
                        <div class="modal-detail-label">Green Offset</div>
                        <div class="modal-detail-value" id="modal-green-offset"></div>
                    </div>
                    <div class="modal-detail-item" id="red-offset-detail" style="display: none;">
                        <div class="modal-detail-label">Red Offset</div>
                        <div class="modal-detail-value" id="modal-red-offset"></div>
                    </div>
                    <div class="modal-detail-item" id="time-detail" style="display: none;">
                        <div class="modal-detail-label">Processing Time</div>
                        <div class="modal-detail-value" id="modal-time"></div>
                    </div>
                    <div class="modal-detail-item" id="metric-detail" style="display: none;">
                        <div class="modal-detail-label">Metric</div>
                        <div class="modal-detail-value" id="modal-metric"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>